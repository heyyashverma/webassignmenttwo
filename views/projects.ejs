<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Projects - Climate Solutions</title>
  <link href="/css/main.css" rel="stylesheet" />
</head>
<body class="bg-base-200">

  <!-- Include Navbar partial and pass current page -->
  <%- include('partials/navbar', { page: '/solutions/projects' }) %>

  <main class="container mx-auto p-6">

    <h1 class="text-4xl font-bold mb-6">Projects</h1>

    <!-- Filter Buttons -->
    <div class="mb-6">
      <h2 class="text-xl font-semibold mb-2">Filter by Sector:</h2>
      <a href="/solutions/projects?sector=Industry" class="btn btn-sm btn-outline mr-2">Industry</a>
      <a href="/solutions/projects?sector=Transportation" class="btn btn-sm btn-outline mr-2">Transportation</a>
      <a href="/solutions/projects?sector=Energy" class="btn btn-sm btn-outline">Energy</a>
      <a href="/solutions/projects" class="btn btn-sm btn-outline ml-4">Show All</a>
    </div>

    <!-- Projects Table -->
    <table class="table-auto border-collapse border border-gray-300 w-full">
      <thead>
        <tr>
          <th class="border border-gray-300 p-2 text-left">Title</th>
          <th class="border border-gray-300 p-2 text-left">Sector</th>
          <th class="border border-gray-300 p-2 text-left">Summary</th>
          <th class="border border-gray-300 p-2 text-center">Details</th>
        </tr>
      </thead>
      <tbody>
        <% projects.forEach(project => { %>
          <tr>
            <td class="border border-gray-300 p-2"><%= project.title %></td>
            <td class="border border-gray-300 p-2">
              <a href="/solutions/projects?sector=<%= project.sector %>" class="btn btn-xs btn-link"><%= project.sector %></a>
            </td>
            <td class="border border-gray-300 p-2"><%= project.summary_short %></td>
            <td class="border border-gray-300 p-2 text-center">
              <a href="/solutions/projects/<%= project.id %>" class="btn btn-primary btn-sm">Details</a>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>

  </main>

</body>
</html>
